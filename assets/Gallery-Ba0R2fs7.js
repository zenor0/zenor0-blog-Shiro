import{R as ge,r as i,j as r}from"./index-jAOdAlND.js";import{c as $e,L as he,a as Fe,u as Ue}from"./image-Dgplq2VI.js";import{c as pe,a as _}from"./helper-CaAdfMs7.js";import{t as ve}from"./lodash-B3VVwmZe.js";import{l as xe,v as ye}from"./request-C4CxcTUr.js";import{a as G,b as oe,c as le}from"./toast-p3UrKKAU.js";import{c as Ye,M as de}from"./StyledButton-CQh8T4zZ.js";import{b as Ze}from"./viewport-CanWGDd3.js";import{u as qe,D as te}from"./use-is-unmounted-Bri7NMtT.js";import{a as Ve}from"./env-DbhK1WeT.js";const Xe=({contexts:t,children:e})=>t.reduceRight((n,a)=>ge.cloneElement(a,{children:n}),e),Z=typeof window<"u"?i.useLayoutEffect:i.useEffect,Ke=G(!1),Qe=t=>xe.set(Ke,t),ze=t=>{const e=(n,a=[])=>oe(ye(t,i.useCallback(s=>n(s),a)));return e.__atom=t,e},be=G(0),re=G(null),Zt=({children:t})=>r.jsxs(r.Fragment,{children:[r.jsx(Je,{}),t]}),Je=()=>{const t=le(be),e=le(re),n=i.useRef(0),a=i.useRef(!1);return Z(()=>{const s=ve(()=>{a.current||(Qe(!0),a.current=!0);const c=document.documentElement.scrollTop;e(n.current-c>0?"up":"down"),n.current=c,t(n.current)},16,{leading:!1});return window.addEventListener("scroll",s),s(),()=>{window.removeEventListener("scroll",s)}},[]),null},et=()=>oe(re),qt=ze(be);ze(re);const ne=t=>{const e=i.useRef(t);return i.useEffect(()=>{e.current=t},[t]),e},tt=t=>{const e=i.useRef();return e.current||(e.current=t()),e.current},Ee=i.createContext(G([])),Vt=({children:t,images:e})=>{const n=tt(()=>G(e));return i.useEffect(()=>{xe.set(n,e)},[e]),r.jsx(Ee.Provider,{value:n,children:t})},q=t=>oe(ye(i.useContext(Ee),i.useCallback(e=>e.find(n=>n.src===t),[t]))),nt=()=>{};function V(t){const e=i.createContext(t),n=i.createContext(nt);return[a=>{let{children:s}=a;const[c,f]=i.useState(t);return r.jsx(e.Provider,{value:c,children:r.jsx(n.Provider,{value:f,children:s})})},()=>i.useContext(e),()=>i.useContext(n),e]}const[ot,rt,at]=V(void 0),[it,we,st]=V({h:0,w:0}),[ct,Xt,lt]=V({x:0,y:0}),[dt,Kt,ut]=V(!1),mt=[r.jsx(ot,{},"ArticleElementProviderInternal"),r.jsx(it,{},"ElementSizeProviderInternal"),r.jsx(ct,{},"ElementPositionProviderInternal"),r.jsx(dt,{},"IsEOArticleElementProviderInternal")],ft=({children:t,className:e,...n})=>r.jsxs(Xe,{contexts:mt,children:[r.jsx(gt,{}),r.jsx(je,{...n,className:e,children:t})]}),gt=()=>{const t=st(),e=lt(),n=rt();return Z(()=>{if(!n)return;const{height:a,width:s,x:c,y:f}=n.getBoundingClientRect();t({h:a,w:s}),e({x:c,y:f});const u=new ResizeObserver(E=>{const v=E[0],{height:x,width:L,x:O,y:I}=v.contentRect;t({h:x,w:L}),e({x:O,y:I})});return u.observe(n),()=>{u.unobserve(n),u.disconnect()}},[n]),null},je=i.memo(({children:t,className:e,eoaDetect:n,as:a="div"})=>{const s=at(),c=a;return r.jsxs(c,{className:pe("relative",e),ref:s,children:[t,n&&r.jsx(ht,{})]})});je.displayName="ArticleElementProviderContent";const ht=()=>{const t=et(),e=ne(t),n=ut(),a=i.useRef(null);return i.useEffect(()=>{if(!a.current)return;const s=a.current,c=new IntersectionObserver(f=>{const u=f[0];!u.isIntersecting&&e.current==="down"||n(u.isIntersecting)},{rootMargin:"0px 0px 0px 0px"});return c.observe(s),()=>{c.unobserve(s),c.disconnect()}},[]),r.jsx("div",{ref:a})};/*! medium-zoom 1.1.0 | MIT License | https://github.com/francoischalifour/medium-zoom */var H=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},F=function(e){return e.tagName==="IMG"},pt=function(e){return NodeList.prototype.isPrototypeOf(e)},U=function(e){return e&&e.nodeType===1},ue=function(e){var n=e.currentSrc||e.src;return n.substr(-4).toLowerCase()===".svg"},me=function(e){try{return Array.isArray(e)?e.filter(F):pt(e)?[].slice.call(e).filter(F):U(e)?[e].filter(F):typeof e=="string"?[].slice.call(document.querySelectorAll(e)).filter(F):[]}catch{throw new TypeError(`The provided selector is invalid.
Expects a CSS selector, a Node element, a NodeList or an array.
See: https://github.com/francoischalifour/medium-zoom`)}},vt=function(e){var n=document.createElement("div");return n.classList.add("medium-zoom-overlay"),n.style.background=e,n},xt=function(e){var n=e.getBoundingClientRect(),a=n.top,s=n.left,c=n.width,f=n.height,u=e.cloneNode(),E=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,v=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return u.removeAttribute("id"),u.style.position="absolute",u.style.top=a+E+"px",u.style.left=s+v+"px",u.style.width=c+"px",u.style.height=f+"px",u.style.transform="",u},M=function(e,n){var a=H({bubbles:!1,cancelable:!1,detail:void 0},n);if(typeof window.CustomEvent=="function")return new CustomEvent(e,a);var s=document.createEvent("CustomEvent");return s.initCustomEvent(e,a.bubbles,a.cancelable,a.detail),s},Ie=function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=window.Promise||function(l){function d(){}l(d,d)},s=function(l){var d=l.target;if(d===B){j();return}b.indexOf(d)!==-1&&N({target:d})},c=function(){if(!(k||!o.original)){var l=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(se-l)>g.scrollOffset&&setTimeout(j,150)}},f=function(l){var d=l.key||l.keyCode;(d==="Escape"||d==="Esc"||d===27)&&j()},u=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=l;if(l.background&&(B.style.background=l.background),l.container&&l.container instanceof Object&&(d.container=H({},g.container,l.container)),l.template){var p=U(l.template)?l.template:document.querySelector(l.template);d.template=p}return g=H({},g,d),b.forEach(function(z){z.dispatchEvent(M("medium-zoom:update",{detail:{zoom:w}}))}),w},E=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t(H({},g,l))},v=function(){for(var l=arguments.length,d=Array(l),p=0;p<l;p++)d[p]=arguments[p];var z=d.reduce(function(m,C){return[].concat(m,me(C))},[]);return z.filter(function(m){return b.indexOf(m)===-1}).forEach(function(m){b.push(m),m.classList.add("medium-zoom-image")}),y.forEach(function(m){var C=m.type,R=m.listener,T=m.options;z.forEach(function(P){P.addEventListener(C,R,T)})}),w},x=function(){for(var l=arguments.length,d=Array(l),p=0;p<l;p++)d[p]=arguments[p];o.zoomed&&j();var z=d.length>0?d.reduce(function(m,C){return[].concat(m,me(C))},[]):b;return z.forEach(function(m){m.classList.remove("medium-zoom-image"),m.dispatchEvent(M("medium-zoom:detach",{detail:{zoom:w}}))}),b=b.filter(function(m){return z.indexOf(m)===-1}),w},L=function(l,d){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return b.forEach(function(z){z.addEventListener("medium-zoom:"+l,d,p)}),y.push({type:"medium-zoom:"+l,listener:d,options:p}),w},O=function(l,d){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return b.forEach(function(z){z.removeEventListener("medium-zoom:"+l,d,p)}),y=y.filter(function(z){return!(z.type==="medium-zoom:"+l&&z.listener.toString()===d.toString())}),w},I=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=l.target,p=function(){var m={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},C=void 0,R=void 0;if(g.container)if(g.container instanceof Object)m=H({},m,g.container),C=m.width-m.left-m.right-g.margin*2,R=m.height-m.top-m.bottom-g.margin*2;else{var T=U(g.container)?g.container:document.querySelector(g.container),P=T.getBoundingClientRect(),X=P.width,Oe=P.height,Pe=P.left,He=P.top;m=H({},m,{width:X,height:Oe,left:Pe,top:He})}C=C||m.width-g.margin*2,R=R||m.height-g.margin*2;var D=o.zoomedHd||o.original,_e=ue(D)?C:D.naturalWidth||C,ke=ue(D)?R:D.naturalHeight||R,$=D.getBoundingClientRect(),Te=$.top,Me=$.left,K=$.width,Q=$.height,We=Math.min(Math.max(K,_e),C)/K,De=Math.min(Math.max(Q,ke),R)/Q,J=Math.min(We,De),Ge=(-Me+(C-K)/2+g.margin+m.left)/J,Be=(-Te+(R-Q)/2+g.margin+m.top)/J,ce="scale("+J+") translate3d("+Ge+"px, "+Be+"px, 0)";o.zoomed.style.transform=ce,o.zoomedHd&&(o.zoomedHd.style.transform=ce)};return new a(function(z){if(d&&b.indexOf(d)===-1){z(w);return}var m=function X(){k=!1,o.zoomed.removeEventListener("transitionend",X),o.original.dispatchEvent(M("medium-zoom:opened",{detail:{zoom:w}})),z(w)};if(o.zoomed){z(w);return}if(d)o.original=d;else if(b.length>0){var C=b;o.original=C[0]}else{z(w);return}if(o.original.dispatchEvent(M("medium-zoom:open",{detail:{zoom:w}})),se=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,k=!0,o.zoomed=xt(o.original),document.body.appendChild(B),g.template){var R=U(g.template)?g.template:document.querySelector(g.template);o.template=document.createElement("div"),o.template.appendChild(R.content.cloneNode(!0)),document.body.appendChild(o.template)}if(o.original.parentElement&&o.original.parentElement.tagName==="PICTURE"&&o.original.currentSrc&&(o.zoomed.src=o.original.currentSrc),document.body.appendChild(o.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),o.original.classList.add("medium-zoom-image--hidden"),o.zoomed.classList.add("medium-zoom-image--opened"),o.zoomed.addEventListener("click",j),o.zoomed.addEventListener("transitionend",m),o.original.getAttribute("data-zoom-src")){o.zoomedHd=o.zoomed.cloneNode(),o.zoomedHd.removeAttribute("srcset"),o.zoomedHd.removeAttribute("sizes"),o.zoomedHd.removeAttribute("loading"),o.zoomedHd.src=o.zoomed.getAttribute("data-zoom-src"),o.zoomedHd.onerror=function(){clearInterval(T),console.warn("Unable to reach the zoom image target "+o.zoomedHd.src),o.zoomedHd=null,p()};var T=setInterval(function(){o.zoomedHd.complete&&(clearInterval(T),o.zoomedHd.classList.add("medium-zoom-image--opened"),o.zoomedHd.addEventListener("click",j),document.body.appendChild(o.zoomedHd),p())},10)}else if(o.original.hasAttribute("srcset")){o.zoomedHd=o.zoomed.cloneNode(),o.zoomedHd.removeAttribute("sizes"),o.zoomedHd.removeAttribute("loading");var P=o.zoomedHd.addEventListener("load",function(){o.zoomedHd.removeEventListener("load",P),o.zoomedHd.classList.add("medium-zoom-image--opened"),o.zoomedHd.addEventListener("click",j),document.body.appendChild(o.zoomedHd),p()})}else p()})},j=function(){return new a(function(l){if(k||!o.original){l(w);return}var d=function p(){o.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(o.zoomed),o.zoomedHd&&document.body.removeChild(o.zoomedHd),document.body.removeChild(B),o.zoomed.classList.remove("medium-zoom-image--opened"),o.template&&document.body.removeChild(o.template),k=!1,o.zoomed.removeEventListener("transitionend",p),o.original.dispatchEvent(M("medium-zoom:closed",{detail:{zoom:w}})),o.original=null,o.zoomed=null,o.zoomedHd=null,o.template=null,l(w)};k=!0,document.body.classList.remove("medium-zoom--opened"),o.zoomed.style.transform="",o.zoomedHd&&(o.zoomedHd.style.transform=""),o.template&&(o.template.style.transition="opacity 150ms",o.template.style.opacity=0),o.original.dispatchEvent(M("medium-zoom:close",{detail:{zoom:w}})),o.zoomed.addEventListener("transitionend",d)})},N=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=l.target;return o.original?j():I({target:d})},W=function(){return g},h=function(){return b},S=function(){return o.original},b=[],y=[],k=!1,se=0,g=n,o={original:null,zoomed:null,zoomedHd:null,template:null};Object.prototype.toString.call(e)==="[object Object]"?g=e:(e||typeof e=="string")&&v(e),g=H({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},g);var B=vt(g.background);document.addEventListener("click",s),document.addEventListener("keyup",f),document.addEventListener("scroll",c),window.addEventListener("resize",j);var w={open:I,close:j,toggle:N,update:u,clone:E,attach:v,detach:x,on:L,off:O,getOptions:W,getImages:h,getZoomedImage:S};return w};function yt(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(!t||typeof document>"u")){var a=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",n==="top"&&a.firstChild?a.insertBefore(s,a.firstChild):a.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}}var zt=".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";yt(zt);const Ae=t=>ge.createElement("img",t,t.children),bt="_error_hef56_1",Et="_loading_hef56_2",wt="_loaded_hef56_6",jt="_imageLoad_hef56_1",fe={error:bt,loading:Et,loaded:wt,imageLoad:jt},ae=Ye({base:"rounded-xl overflow-hidden text-center inline-flex items-center justify-center duration-200",variants:{status:{loading:"hidden opacity-0",loaded:"opacity-100 block",error:"hidden opacity-0"}}});let ee;const It=({alt:t,src:e,title:n,zoom:a,placeholder:s,height:c,width:f,className:u})=>{const[E]=i.useState(()=>{if(Ve)return null;if(ee)return ee;const y=Ie(void 0,{});return ee=y,y}),v=n||t,[x,L]=i.useState("loading"),O=qe(),I=i.useCallback(y=>{O.current||L(y)},[O]),j=i.useRef(null),N=Ze();Z(()=>{if(x!=="loaded"||!a)return;const y=j.current;if(y){if(N)return y.onclick=()=>{window.open(e)},()=>{y.onclick=null};if(y)return E.attach(y),()=>{E.detach(y)}}},[a,E,x,N]);const W=i.useCallback(()=>{I("loaded")},[I]),h=i.useCallback(()=>I("error"),[I]),S=i.useCallback(y=>{y.target.classList.remove(fe.loaded)},[]),b=i.useMemo(()=>ae({status:x,className:_(fe.loaded,u)}),[u,x]);return r.jsxs("figure",{children:[r.jsx("span",{className:"relative flex justify-center","data-hide-print":!0,children:r.jsxs(he,{placeholder:s,offset:30,children:[r.jsx("span",{children:x!=="loaded"&&s}),x==="error"&&r.jsxs("div",{className:"absolute inset-0 z-[1] flex flex-col gap-8 center",children:[r.jsx("i",{className:"icon-[mingcute--close-line] text-4xl text-red-500"}),r.jsx("span",{children:"图片加载失败"}),r.jsx(te,{className:"w-[80px] opacity-80"}),r.jsx("a",{href:e,target:"_blank",rel:"noreferrer",children:r.jsx("span",{children:"查看原图"})})]}),r.jsx(Se,{height:c,width:f,src:e,title:n,alt:t||n||"",ref:j,onLoad:W,onError:h,className:b,onAnimationEnd:S})]})}),r.jsx("img",{className:"max-w-1/3 !hidden print:!block",src:e,alt:t||n}),!!v&&r.jsxs("figcaption",{className:"mt-1 flex flex-col items-center justify-center",children:[r.jsx(te,{className:"w-[80px] opacity-80"}),r.jsx("span",{children:v})]})]})},Ce=t=>{const e=i.useMemo(()=>r.jsx(At,{...t}),[t]);return r.jsx(It,{zoom:!0,placeholder:e,...t})},At=({src:t,containerWidth:e,height:n,width:a,accent:s})=>{const c=q(t),f=s||c?.accent,u=i.useMemo(()=>{let E=n,v=a;if(!E||!v){if(!c)return;E=c.height,v=c.width}if(e<=0)return;const{height:x,width:L}=$e({width:v,height:E,max:{width:e,height:1/0}});return{scaleHeight:x,scaleWidth:L}},[n,a,e,c]);return u?r.jsx("span",{className:`image-placeholder ${ae.base}`,"data-width":u.scaleWidth,"data-height":u.scaleHeight,"data-from-record-height":c?.height,"data-from-record-width":c?.width,"data-src":t,style:{height:u.scaleHeight,width:u.scaleWidth,backgroundColor:f}}):r.jsx(Ct,{accent:f})},Ct=({accent:t})=>r.jsx("span",{className:pe("image-placeholder",ae.base,"h-[300px] w-full bg-slate-300 dark:bg-slate-700"),style:{backgroundColor:t,outline:void 0}}),Se=i.memo(i.forwardRef(({src:t,alt:e,...n},a)=>{const{height:s,width:c}=q(t)||n,f=!!(s&&c),u=i.useRef(null),E=r.jsx("img",{"data-zoom-src":t,alt:e,src:t,ref:u,...n});i.useImperativeHandle(a,()=>u.current);const v=i.useRef(null);return Z(()=>{const x=v.current;x&&u.current&&(u.current.src=x.src)},[t]),r.jsx(r.Fragment,{children:f?r.jsxs(r.Fragment,{children:[r.jsx(Ae,{alt:e||"",fetchPriority:"high",priority:!0,src:t,...n,height:+s,width:+c,ref:v}),r.jsx("div",{className:"absolute inset-0 flex justify-center opacity-0",children:i.cloneElement(E,{src:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"})})]}):E})}));Se.displayName="OptimizedImage";const St=["mp4","webm","ogg","avi","mov","flv","wmv","mkv"],Lt=t=>St.includes(t),Le=t=>{const{src:e,alt:n}=t,a={...t};a.alt=n?.replace(/^[¡!]/,"");const{w:s}=we(),c=e.split(".").pop();if(Lt(c)){const f=n?.replace(/^[¡!]/,"");return r.jsxs("div",{className:"flex flex-col items-center",children:[r.jsx("video",{src:e,controls:!0,playsInline:!0,autoPlay:!1}),f&&r.jsxs("p",{className:"mt-1 flex flex-col items-center justify-center text-sm",children:[r.jsx(te,{className:"w-[80px] opacity-80"}),r.jsx("span",{className:"opacity-90",children:f})]})]})}return r.jsx(Ce,{...a,containerWidth:s})},Qt=t=>r.jsx(ft,{children:r.jsx("div",{className:"relative flex min-w-0 grow",children:r.jsx(Le,{...t})})}),Jt=({imagesSrc:t,Wrapper:e,height:n=1})=>r.jsx("div",{className:"relative",style:{paddingBottom:`${n*100}%`},children:r.jsx(e,{className:"absolute inset-0",children:t.map(a=>r.jsx(Ne,{src:a},a))})}),Ne=i.memo(({src:t})=>{const{accent:e,height:n,width:a}=q(t)||{},s=Fe(t,600),c=i.useRef(null),f=a&&n?a>n:!0,u=n&&a?Ae:"img";return r.jsx("div",{className:"relative flex size-full overflow-hidden rounded-md bg-cover bg-center center",style:{backgroundColor:e},children:r.jsx(he,{offset:30,children:r.jsx(u,{loading:"lazy",alt:"",height:n,width:a,src:s,ref:c,className:_("!m-0 max-w-max object-cover",f?"h-full":"w-full"),"data-zoom-src":t,onClick:()=>{c.current&&Ie(c.current).open()}})})})});Ne.displayName="GridZoomImage";const Nt="_root_1ug9l_1",Rt="_indicator_1ug9l_2",Ot="_container_1ug9l_7",Pt="_child_1ug9l_17",Y={root:Nt,indicator:Rt,container:Ot,child:Pt},ie=60,Ht=15,_t=5e3,en=t=>{const{images:e}=t,[n,a]=i.useState(null),[,s]=i.useState({}),c=i.useRef(0);i.useEffect(()=>{if(!n)return;const h=new ResizeObserver(()=>{s({}),S(n)});function S(b){const y=b.children.item(0);y&&(c.current=y.clientWidth)}return S(n),h.observe(n),()=>{h.disconnect()}},[n]);const[f,u]=i.useState(0),E=i.useCallback(ve(h=>{const S=h.target,b=Math.floor((S.scrollLeft+ie+15)/c.current);u(b)},60),[]),v=i.useCallback(h=>{n&&n.scrollTo({left:c.current*h,behavior:"smooth"})},[n]),x=i.useRef(null),L=ne(f),O=ne(e.length),I=i.useRef(!0),j=i.useRef(!0),N=i.useCallback(()=>{j.current&&(j.current=!1,clearInterval(x.current))},[]),{ref:W}=Ue({initialInView:!1,triggerOnce:e.length<2,onChange(h){O.current<2||!j.current||(h?x.current=setInterval(()=>{L.current+1>O.current-1&&I.current&&(I.current=!1),L.current-1<0&&!I.current&&(I.current=!0);const S=L.current+(I.current?1:-1);v(S)},_t):x.current=clearInterval(x.current))}});if(i.useEffect(()=>()=>{clearInterval(x.current)},[]),!e.length)return null;if(e.length===1){const h=e[0];return r.jsx(Le,{src:h.url,alt:h.footnote})}return r.jsxs("div",{className:_("w-full","relative",Y.root),ref:W,onTouchMove:N,onWheel:N,children:[r.jsx("div",{className:_("w-full overflow-auto whitespace-nowrap",Y.container),onTouchStart:N,onScroll:E,ref:a,onTouchMove:N,onWheel:N,children:e.map(h=>r.jsx(Re,{image:h},h.url))}),f>0&&r.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-2 flex items-center [&_*]:duration-200",children:r.jsx(de,{onClick:()=>{if(!n)return;const h=f-1;v(h)},className:"border-border pointer-events-auto flex size-6 rounded-full border bg-base-100 p-1 opacity-80 center hover:opacity-100",children:r.jsx("i",{className:"icon-[mingcute--left-fill]"})})}),f<e.length-1&&r.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-2 flex items-center [&_*]:duration-200",children:r.jsx(de,{onClick:()=>{if(!n)return;const h=f+1;v(h)},className:"border-border pointer-events-auto flex size-6 rounded-full border bg-base-100 p-1 opacity-80 center hover:opacity-100",children:r.jsx("i",{className:"icon-[mingcute--right-fill]"})})}),r.jsx("div",{className:_(Y.indicator,"space-x-2"),children:Array.from({length:e.length}).map((h,S)=>r.jsx("div",{className:_("size-[6px] cursor-pointer rounded-full bg-stone-600 opacity-50 transition-opacity duration-200 ease-in-out",f==S&&"!opacity-100"),onClick:v.bind(null,S)},S))})]})},kt={width:`calc(100% - ${ie}px)`,marginRight:`${Ht}px`},Re=i.memo(({image:t})=>{const e=q(t.url),n=t.name,s=t.footnote||(["!","¡"].some(f=>f==n?.[0])?n?.slice(1):"")||"",{w:c}=we();return r.jsx("div",{style:kt,className:_(Y.child,"inline-block self-center"),children:r.jsx(Ce,{accent:e?.accent,src:t.url,alt:s,containerWidth:c-ie})},`${t.url}-${t.name||""}`)});Re.displayName="GalleryItem";export{Ce as F,en as G,Ae as I,Vt as M,Xe as P,ft as W,tt as a,Jt as b,Qt as c,Le as d,Z as e,Xt as f,qt as g,Zt as h,we as u};
