import{l as _e,m as cn,o as an,p as un,q as fn,v as ln,w as It}from"./request-C4CxcTUr.js";import{a as xt,b as xe}from"./toast-p3UrKKAU.js";import{c as mt,r as _,R as re}from"./index-jAOdAlND.js";import{i as dn}from"./env-DbhK1WeT.js";var Ft=Symbol.for("immer-nothing"),Et=Symbol.for("immer-draftable"),L=Symbol.for("immer-state");function U(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var fe=Object.getPrototypeOf;function le(e){return!!e&&!!e[L]}function ce(e){return e?zt(e)||Array.isArray(e)||!!e[Et]||!!e.constructor?.[Et]||ze(e)||Ne(e):!1}var _n=Object.prototype.constructor.toString();function zt(e){if(!e||typeof e!="object")return!1;const t=fe(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===_n}function De(e,t){Fe(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Fe(e){const t=e[L];return t?t.type_:Array.isArray(e)?1:ze(e)?2:Ne(e)?3:0}function Be(e,t){return Fe(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Nt(e,t,n){const r=Fe(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function hn(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function ze(e){return e instanceof Map}function Ne(e){return e instanceof Set}function ie(e){return e.copy_||e.base_}function Je(e,t){if(ze(e))return new Map(e);if(Ne(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);if(!t&&zt(e))return fe(e)?{...e}:Object.assign(Object.create(null),e);const n=Object.getOwnPropertyDescriptors(e);delete n[L];let r=Reflect.ownKeys(n);for(let s=0;s<r.length;s++){const o=r[s],i=n[o];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(n[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:e[o]})}return Object.create(fe(e),n)}function it(e,t=!1){return Le(e)||le(e)||!ce(e)||(Fe(e)>1&&(e.set=e.add=e.clear=e.delete=yn),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>it(r,!0))),e}function yn(){U(2)}function Le(e){return Object.isFrozen(e)}var pn={};function ae(e){const t=pn[e];return t||U(0,e),t}var me;function Lt(){return me}function gn(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function wt(e,t){t&&(ae("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ye(e){Xe(e),e.drafts_.forEach(mn),e.drafts_=null}function Xe(e){e===me&&(me=e.parent_)}function St(e){return me=gn(me,e)}function mn(e){const t=e[L];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function vt(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[L].modified_&&(Ye(t),U(4)),ce(e)&&(e=Te(t,e),t.parent_||Ie(t,e)),t.patches_&&ae("Patches").generateReplacementPatches_(n[L].base_,e,t.patches_,t.inversePatches_)):e=Te(t,n,[]),Ye(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Ft?e:void 0}function Te(e,t,n){if(Le(t))return t;const r=t[L];if(!r)return De(t,(s,o)=>Rt(e,r,t,s,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Ie(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let o=s,i=!1;r.type_===3&&(o=new Set(s),s.clear(),i=!0),De(o,(a,u)=>Rt(e,r,s,a,u,n,i)),Ie(e,s,!1),n&&e.patches_&&ae("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Rt(e,t,n,r,s,o,i){if(le(s)){const a=o&&t&&t.type_!==3&&!Be(t.assigned_,r)?o.concat(r):void 0,u=Te(e,s,a);if(Nt(n,r,u),le(u))e.canAutoFreeze_=!1;else return}else i&&n.add(s);if(ce(s)&&!Le(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Te(e,s),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Ie(e,s)}}function Ie(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&it(t,n)}function En(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Lt(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,o=ct;n&&(s=[r],o=Ee);const{revoke:i,proxy:a}=Proxy.revocable(s,o);return r.draft_=a,r.revoke_=i,a}var ct={get(e,t){if(t===L)return e;const n=ie(e);if(!Be(n,t))return wn(e,n,t);const r=n[t];return e.finalized_||!ce(r)?r:r===Ue(e.base_,t)?(je(e),e.copy_[t]=Ze(r,e)):r},has(e,t){return t in ie(e)},ownKeys(e){return Reflect.ownKeys(ie(e))},set(e,t,n){const r=Mt(ie(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const s=Ue(ie(e),t),o=s?.[L];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(hn(n,s)&&(n!==void 0||Be(e.base_,t)))return!0;je(e),Qe(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Ue(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,je(e),Qe(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ie(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){U(11)},getPrototypeOf(e){return fe(e.base_)},setPrototypeOf(){U(12)}},Ee={};De(ct,(e,t)=>{Ee[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ee.deleteProperty=function(e,t){return Ee.set.call(this,e,t,void 0)};Ee.set=function(e,t,n){return ct.set.call(this,e[0],t,n,e[0])};function Ue(e,t){const n=e[L];return(n?ie(n):e)[t]}function wn(e,t,n){const r=Mt(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}function Mt(e,t){if(!(t in e))return;let n=fe(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=fe(n)}}function Qe(e){e.modified_||(e.modified_=!0,e.parent_&&Qe(e.parent_))}function je(e){e.copy_||(e.copy_=Je(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Sn=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const i=this;return function(u=o,...A){return i.produce(u,E=>n.call(this,E,...A))}}typeof n!="function"&&U(6),r!==void 0&&typeof r!="function"&&U(7);let s;if(ce(t)){const o=St(this),i=Ze(t,void 0);let a=!0;try{s=n(i),a=!1}finally{a?Ye(o):Xe(o)}return wt(o,r),vt(s,o)}else if(!t||typeof t!="object"){if(s=n(t),s===void 0&&(s=t),s===Ft&&(s=void 0),this.autoFreeze_&&it(s,!0),r){const o=[],i=[];ae("Patches").generateReplacementPatches_(t,s,o,i),r(o,i)}return s}else U(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(i,...a)=>this.produceWithPatches(i,u=>t(u,...a));let r,s;return[this.produce(t,n,(i,a)=>{r=i,s=a}),r,s]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ce(e)||U(8),le(e)&&(e=vn(e));const t=St(this),n=Ze(e,void 0);return n[L].isManual_=!0,Xe(t),n}finishDraft(e,t){const n=e&&e[L];(!n||!n.isManual_)&&U(9);const{scope_:r}=n;return wt(r,t),vt(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const s=t[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(t=t.slice(n+1));const r=ae("Patches").applyPatches_;return le(e)?r(e,t):this.produce(e,s=>r(s,t))}};function Ze(e,t){const n=ze(e)?ae("MapSet").proxyMap_(e,t):Ne(e)?ae("MapSet").proxySet_(e,t):En(e,t);return(t?t.scope_:Lt()).drafts_.push(n),n}function vn(e){return le(e)||U(10,e),Vt(e)}function Vt(e){if(!ce(e)||Le(e))return e;const t=e[L];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Je(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Je(e,!0);return De(n,(r,s)=>{Nt(n,r,Vt(s))}),t&&(t.finalized_=!1),n}var M=new Sn,Rn=M.produce;M.produceWithPatches.bind(M);M.setAutoFreeze.bind(M);M.setUseStrictShallowCopy.bind(M);M.applyPatches.bind(M);M.createDraft.bind(M);M.finishDraft.bind(M);const kt=xt({process:null,media:null}),Tr=e=>_e.set(kt,t=>({...t,process:e})),Ir=e=>_e.set(kt,t=>({...t,media:e})),at=xt({}),xr=e=>{_e.set(at,t=>({...t,[e.identity]:e}))},Fr=e=>{_e.set(at,t=>Rn(t,n=>{delete n[e]}))},zr=e=>_e.set(at,e||{}),Cn=()=>xe(cn),bn=()=>xe(an);typeof window<"u"&&!window.global&&(window.global=typeof mt>"u"?window:mt);var Wt=Object.defineProperty,On=Object.getOwnPropertyDescriptor,Pn=Object.getOwnPropertyNames,An=Object.prototype.hasOwnProperty,Dn=(e,t)=>{for(var n in t)Wt(e,n,{get:t[n],enumerable:!0})},Ct=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Pn(t))!An.call(e,s)&&s!==n&&Wt(e,s,{get:()=>t[s],enumerable:!(r=On(t,s))||r.enumerable});return e},Tn=(e,t,n)=>(Ct(e,t,"default"),n&&Ct(n,t,"default")),Ut={exports:{}},jt={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var de=_;function In(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xn=typeof Object.is=="function"?Object.is:In,Fn=de.useState,zn=de.useEffect,Nn=de.useLayoutEffect,Ln=de.useDebugValue;function Mn(e,t){var n=t(),r=Fn({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return Nn(function(){s.value=n,s.getSnapshot=t,qe(s)&&o({inst:s})},[e,n,t]),zn(function(){return qe(s)&&o({inst:s}),e(function(){qe(s)&&o({inst:s})})},[e]),Ln(n),n}function qe(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!xn(e,n)}catch{return!0}}function Vn(e,t){return t()}var kn=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Vn:Mn;jt.useSyncExternalStore=de.useSyncExternalStore!==void 0?de.useSyncExternalStore:kn;Ut.exports=jt;var qt=Ut.exports;const ne=()=>{},I=ne(),Ae=Object,f=e=>e===I,j=e=>typeof e=="function",X=(e,t)=>({...e,...t}),Wn=e=>j(e.then),Oe=new WeakMap;let Un=0;const we=e=>{const t=typeof e,n=e&&e.constructor,r=n==Date;let s,o;if(Ae(e)===e&&!r&&n!=RegExp){if(s=Oe.get(e),s)return s;if(s=++Un+"~",Oe.set(e,s),n==Array){for(s="@",o=0;o<e.length;o++)s+=we(e[o])+",";Oe.set(e,s)}if(n==Ae){s="#";const i=Ae.keys(e).sort();for(;!f(o=i.pop());)f(e[o])||(s+=o+":"+we(e[o])+",");Oe.set(e,s)}}else s=r?e.toJSON():t=="symbol"?e.toString():t=="string"?JSON.stringify(e):""+e;return s},H=new WeakMap,$e={},Pe={},ut="undefined",Me=typeof window!=ut,et=typeof document!=ut,jn=()=>Me&&typeof window.requestAnimationFrame!=ut,te=(e,t)=>{const n=H.get(e);return[()=>!f(t)&&e.get(t)||$e,r=>{if(!f(t)){const s=e.get(t);t in Pe||(Pe[t]=s),n[5](t,X(s,r),s||$e)}},n[6],()=>!f(t)&&t in Pe?Pe[t]:!f(t)&&e.get(t)||$e]};let tt=!0;const qn=()=>tt,[nt,rt]=Me&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[ne,ne],$n=()=>{const e=et&&document.visibilityState;return f(e)||e!=="hidden"},Hn=e=>(et&&document.addEventListener("visibilitychange",e),nt("focus",e),()=>{et&&document.removeEventListener("visibilitychange",e),rt("focus",e)}),Kn=e=>{const t=()=>{tt=!0,e()},n=()=>{tt=!1};return nt("online",t),nt("offline",n),()=>{rt("online",t),rt("offline",n)}},Gn={isOnline:qn,isVisible:$n},Bn={initFocus:Hn,initReconnect:Kn},bt=!re.useId,Se=!Me||"Deno"in window,Jn=e=>jn()?window.requestAnimationFrame(e):setTimeout(e,1),ge=Se?_.useEffect:_.useLayoutEffect,He=typeof navigator<"u"&&navigator.connection,Ot=!Se&&He&&(["slow-2g","2g"].includes(He.effectiveType)||He.saveData),se=e=>{if(j(e))try{e=e()}catch{e=""}const t=e;return e=typeof e=="string"?e:(Array.isArray(e)?e.length:e)?we(e):"",[e,t]};let Yn=0;const st=()=>++Yn,$t=0,Ht=1,Kt=2,Xn=3;var pe={__proto__:null,ERROR_REVALIDATE_EVENT:Xn,FOCUS_EVENT:$t,MUTATE_EVENT:Kt,RECONNECT_EVENT:Ht};async function Gt(...e){const[t,n,r,s]=e,o=X({populateCache:!0,throwOnError:!0},typeof s=="boolean"?{revalidate:s}:s||{});let i=o.populateCache;const a=o.rollbackOnError;let u=o.optimisticData;const A=o.revalidate!==!1,E=v=>typeof a=="function"?a(v):a!==!1,g=o.throwOnError;if(j(n)){const v=n,w=[],D=t.keys();for(const F of D)!/^\$(inf|sub)\$/.test(F)&&v(t.get(F)._k)&&w.push(F);return Promise.all(w.map(h))}return h(n);async function h(v){const[w]=se(v);if(!w)return;const[D,F]=te(t,w),[c,K,oe,x]=H.get(t),z=c[w],Q=()=>A&&(delete oe[w],delete x[w],z&&z[0])?z[0](Kt).then(()=>D().data):D().data;if(e.length<3)return Q();let l=r,d;const S=st();K[w]=[S,0];const R=!f(u),q=D(),V=q.data,W=q._c,C=f(W)?V:W;if(R&&(u=j(u)?u(C,V):u,F({data:u,_c:C})),j(l))try{l=l(C)}catch(N){d=N}if(l&&Wn(l))if(l=await l.catch(N=>{d=N}),S!==K[w][0]){if(d)throw d;return l}else d&&R&&E(d)&&(i=!0,l=C,F({data:l,_c:I}));i&&(d||(j(i)&&(l=i(l,C)),F({data:l,error:I,_c:I}))),K[w][1]=st();const O=await Q();if(F({_c:I}),d){if(g)throw d;return}return i?O:l}}const Pt=(e,t)=>{for(const n in e)e[n][0]&&e[n][0](t)},Bt=(e,t)=>{if(!H.has(e)){const n=X(Bn,t),r={},s=Gt.bind(I,e);let o=ne;const i={},a=(E,g)=>{const h=i[E]||[];return i[E]=h,h.push(g),()=>h.splice(h.indexOf(g),1)},u=(E,g,h)=>{e.set(E,g);const v=i[E];if(v)for(const w of v)w(g,h)},A=()=>{if(!H.has(e)&&(H.set(e,[r,{},{},{},s,u,a]),!Se)){const E=n.initFocus(setTimeout.bind(I,Pt.bind(I,r,$t))),g=n.initReconnect(setTimeout.bind(I,Pt.bind(I,r,Ht)));o=()=>{E&&E(),g&&g(),H.delete(e)}}};return A(),[e,s,A,o]}return[e,H.get(e)[4]]},Qn=(e,t,n,r,s)=>{const o=n.errorRetryCount,i=s.retryCount,a=~~((Math.random()+.5)*(1<<(i<8?i:8)))*n.errorRetryInterval;!f(o)&&i>o||setTimeout(r,a,s)},Zn=(e,t)=>we(e)==we(t),[Ve,Jt]=Bt(new Map),Yt=X({onLoadingSlow:ne,onSuccess:ne,onError:ne,onErrorRetry:Qn,onDiscarded:ne,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:Ot?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:Ot?5e3:3e3,compare:Zn,isPaused:()=>!1,cache:Ve,mutate:Jt,fallback:{}},Gn),Xt=(e,t)=>{const n=X(e,t);if(t){const{use:r,fallback:s}=e,{use:o,fallback:i}=t;r&&o&&(n.use=r.concat(o)),s&&i&&(n.fallback=X(s,i))}return n},ot=_.createContext({}),er=e=>{const{value:t}=e,n=_.useContext(ot),r=j(t),s=_.useMemo(()=>r?t(n):t,[r,n,t]),o=_.useMemo(()=>r?s:Xt(n,s),[r,n,s]),i=s&&s.provider,a=_.useRef(I);i&&!a.current&&(a.current=Bt(i(o.cache||Ve),s));const u=a.current;return u&&(o.cache=u[0],o.mutate=u[1]),ge(()=>{if(u)return u[2]&&u[2](),u[3]},[]),_.createElement(ot.Provider,X(e,{value:o}))},Qt=Me&&window.__SWR_DEVTOOLS_USE__,tr=Qt?window.__SWR_DEVTOOLS_USE__:[],nr=()=>{Qt&&(window.__SWR_DEVTOOLS_REACT__=re)},Zt=e=>j(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(e[1]===null?e[2]:e[1])||{}],en=()=>X(Yt,_.useContext(ot)),rr=(e,t)=>{const[n,r]=se(e),[,,,s]=H.get(Ve);if(s[n])return s[n];const o=t(r);return s[n]=o,o},sr=e=>(t,n,r)=>e(t,n&&((...o)=>{const[i]=se(t),[,,,a]=H.get(Ve),u=a[i];return f(u)?n(...o):(delete a[i],u)}),r),or=tr.concat(sr),ir=e=>function(...n){const r=en(),[s,o,i]=Zt(n),a=Xt(r,i);let u=e;const{use:A}=a,E=(A||[]).concat(or);for(let g=E.length;g--;)u=E[g](u);return u(s,o||a.fetcher||null,a)},cr=(e,t,n)=>{const r=t[e]||(t[e]=[]);return r.push(n),()=>{const s=r.indexOf(n);s>=0&&(r[s]=r[r.length-1],r.pop())}},ar=(e,t)=>(...n)=>{const[r,s,o]=Zt(n),i=(o.use||[]).concat(t);return e(r,s,{...o,use:i})};nr();const ur=e=>se(e)[0],At=re.use||(e=>{if(e.status==="pending")throw e;if(e.status==="fulfilled")return e.value;throw e.status==="rejected"?e.reason:(e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e)}),Ke={dedupe:!0},fr=(e,t,n)=>{const{cache:r,compare:s,suspense:o,fallbackData:i,revalidateOnMount:a,revalidateIfStale:u,refreshInterval:A,refreshWhenHidden:E,refreshWhenOffline:g,keepPreviousData:h}=n,[v,w,D,F]=H.get(r),[c,K]=se(e),oe=_.useRef(!1),x=_.useRef(!1),z=_.useRef(c),Q=_.useRef(t),l=_.useRef(n),d=()=>l.current,S=()=>d().isVisible()&&d().isOnline(),[R,q,V,W]=te(r,c),C=_.useRef({}).current,O=f(i)?n.fallback[c]:i,N=(y,p)=>{for(const P in C){const m=P;if(m==="data"){if(!s(y[m],p[m])&&(!f(y[m])||!s(be,p[m])))return!1}else if(p[m]!==y[m])return!1}return!0},he=_.useMemo(()=>{const y=!c||!t?!1:f(a)?d().isPaused()||o?!1:f(u)?!0:u:a,p=T=>{const J=X(T);return delete J._k,y?{isValidating:!0,isLoading:!0,...J}:J},P=R(),m=W(),$=p(P),ue=P===m?$:p(m);let b=$;return[()=>{const T=p(R());return N(T,b)?(b.data=T.data,b.isLoading=T.isLoading,b.isValidating=T.isValidating,b.error=T.error,b):(b=T,T)},()=>ue]},[r,c]),Z=qt.useSyncExternalStore(_.useCallback(y=>V(c,(p,P)=>{N(P,p)||y()}),[r,c]),he[0],he[1]),Re=!oe.current,G=v[c]&&v[c].length>0,ee=Z.data,B=f(ee)?O:ee,Ce=Z.error,lt=_.useRef(B),be=h?f(ee)?lt.current:ee:B,dt=G&&!f(Ce)?!1:Re&&!f(a)?a:d().isPaused()?!1:o?f(B)?!1:u:f(B)||u,_t=!!(c&&t&&Re&&dt),rn=f(Z.isValidating)?_t:Z.isValidating,sn=f(Z.isLoading)?_t:Z.isLoading,ye=_.useCallback(async y=>{const p=Q.current;if(!c||!p||x.current||d().isPaused())return!1;let P,m,$=!0;const ue=y||{},b=!D[c]||!ue.dedupe,T=()=>bt?!x.current&&c===z.current&&oe.current:c===z.current,J={isValidating:!1,isLoading:!1},yt=()=>{q(J)},pt=()=>{const k=D[c];k&&k[1]===m&&delete D[c]},gt={isValidating:!0};f(R().data)&&(gt.isLoading=!0);try{if(b&&(q(gt),n.loadingTimeout&&f(R().data)&&setTimeout(()=>{$&&T()&&d().onLoadingSlow(c,n)},n.loadingTimeout),D[c]=[p(K),st()]),[P,m]=D[c],P=await P,b&&setTimeout(pt,n.dedupingInterval),!D[c]||D[c][1]!==m)return b&&T()&&d().onDiscarded(c),!1;J.error=I;const k=w[c];if(!f(k)&&(m<=k[0]||m<=k[1]||k[1]===0))return yt(),b&&T()&&d().onDiscarded(c),!1;const Y=R().data;J.data=s(Y,P)?Y:P,b&&T()&&d().onSuccess(P,c,n)}catch(k){pt();const Y=d(),{shouldRetryOnError:ke}=Y;Y.isPaused()||(J.error=k,b&&T()&&(Y.onError(k,c,Y),(ke===!0||j(ke)&&ke(k))&&S()&&Y.onErrorRetry(k,c,Y,on=>{const We=v[c];We&&We[0]&&We[0](pe.ERROR_REVALIDATE_EVENT,on)},{retryCount:(ue.retryCount||0)+1,dedupe:!0})))}return $=!1,yt(),!0},[c,r]),ht=_.useCallback((...y)=>Gt(r,z.current,...y),[]);if(ge(()=>{Q.current=t,l.current=n,f(ee)||(lt.current=ee)}),ge(()=>{if(!c)return;const y=ye.bind(I,Ke);let p=0;const m=cr(c,v,($,ue={})=>{if($==pe.FOCUS_EVENT){const b=Date.now();d().revalidateOnFocus&&b>p&&S()&&(p=b+d().focusThrottleInterval,y())}else if($==pe.RECONNECT_EVENT)d().revalidateOnReconnect&&S()&&y();else{if($==pe.MUTATE_EVENT)return ye();if($==pe.ERROR_REVALIDATE_EVENT)return ye(ue)}});return x.current=!1,z.current=c,oe.current=!0,q({_k:K}),dt&&(f(B)||Se?y():Jn(y)),()=>{x.current=!0,m()}},[c]),ge(()=>{let y;function p(){const m=j(A)?A(R().data):A;m&&y!==-1&&(y=setTimeout(P,m))}function P(){!R().error&&(E||d().isVisible())&&(g||d().isOnline())?ye(Ke).then(p):p()}return p(),()=>{y&&(clearTimeout(y),y=-1)}},[A,E,g,c]),_.useDebugValue(be),o&&f(B)&&c){if(!bt&&Se)throw new Error("Fallback data is required when using suspense in SSR.");Q.current=t,l.current=n,x.current=!1;const y=F[c];if(!f(y)){const p=ht(y);At(p)}if(f(Ce)){const p=ye(Ke);f(be)||(p.status="fulfilled",p.value=!0),At(p)}else throw Ce}return{mutate:ht,get data(){return C.data=!0,be},get error(){return C.error=!0,Ce},get isValidating(){return C.isValidating=!0,rn},get isLoading(){return C.isLoading=!0,sn}}},tn=Ae.defineProperty(er,"defaultValue",{value:Yt}),ft=ir(fr),lr=Object.freeze(Object.defineProperty({__proto__:null,SWRConfig:tn,default:ft,mutate:Jt,preload:rr,unstable_serialize:ur,useSWRConfig:en},Symbol.toStringTag,{value:"Module"})),dr="$inf$",_r=e=>se(e?e(0,null):null)[0],Ge=Promise.resolve(),hr=e=>(t,n,r)=>{const s=_.useRef(!1),{cache:o,initialSize:i=1,revalidateAll:a=!1,persistSize:u=!1,revalidateFirstPage:A=!0,revalidateOnMount:E=!1,parallel:g=!1}=r;let h;try{h=_r(t),h&&(h=dr+h)}catch{}const[v,w,D]=te(o,h),F=_.useCallback(()=>f(v()._l)?i:v()._l,[o,h,i]);qt.useSyncExternalStore(_.useCallback(l=>h?D(h,()=>{l()}):()=>{},[o,h]),F,F);const c=_.useCallback(()=>{const l=v()._l;return f(l)?i:l},[h,i]),K=_.useRef(c());ge(()=>{if(!s.current){s.current=!0;return}h&&w({_l:u?K.current:c()})},[h,o]);const oe=E&&!s.current,x=e(h,async l=>{const d=v()._i,S=[],R=c(),[q]=te(o,l),V=q().data,W=[];let C=null;for(let O=0;O<R;++O){const[N,he]=se(t(O,g?null:C));if(!N)break;const[Z,Re]=te(o,N);let G=Z().data;const ee=a||d||f(G)||A&&!O&&!f(V)||oe||V&&!f(V[O])&&!r.compare(V[O],G);if(n&&ee){const B=async()=>{G=await n(he),Re({data:G,_k:he}),S[O]=G};g?W.push(B):await B()}else S[O]=G;g||(C=G)}return g&&await Promise.all(W.map(O=>O())),w({_i:I}),S},r),z=_.useCallback(function(l,d){const S=typeof d=="boolean"?{revalidate:d}:d||{},R=S.revalidate!==!1;return h?(R&&(f(l)?w({_i:!0}):w({_i:!1})),arguments.length?x.mutate(l,{...S,revalidate:R}):x.mutate()):Ge},[h,o]),Q=_.useCallback(l=>{if(!h)return Ge;const[,d]=te(o,h);let S;if(j(l)?S=l(c()):typeof l=="number"&&(S=l),typeof S!="number")return Ge;d({_l:S}),K.current=S;const R=[],[q]=te(o,h);let V=null;for(let W=0;W<S;++W){const[C]=se(t(W,V)),[O]=te(o,C),N=C?O().data:I;if(f(N))return z(q().data);R.push(N),V=N}return z(R)},[h,o,z,c]);return{size:c(),setSize:Q,mutate:z,get data(){return x.data},get error(){return x.error},get isValidating(){return x.isValidating},get isLoading(){return x.isLoading}}},yr=ar(ft,hr);function pr(e,t){if(!e)throw typeof t=="string"?new Error(t):new Error(`${t.displayName} not found`)}var ve=(e,t)=>{const{assertCtxFn:n=pr}=t||{},r=re.createContext(void 0);return r.displayName=e,[r,()=>{const i=re.useContext(r);return n(i,`${e} not found`),i.value},()=>{const i=re.useContext(r);return i?i.value:{}}]},nn={};Dn(nn,{SWRConfig:()=>tn,useSWR:()=>ft,useSWRInfinite:()=>yr});Tn(nn,lr);var[Nr,Lr]=ve("ClerkInstanceContext"),[Mr,gr]=ve("UserContext");ve("ClientContext");ve("SessionContext");ve("OrganizationContext");typeof window<"u"?re.useLayoutEffect:re.useEffect;function mr(){const e=gr();return e===void 0?{isLoaded:!1,isSignedIn:void 0,user:void 0}:e===null?{isLoaded:!0,isSignedIn:!1,user:null}:{isLoaded:!0,isSignedIn:!0,user:e}}const Er="shiro",wr=e=>`@${Er}/${e}`,Sr="1234567890abcdefghijklmnopqrstuvwxyz",vr=un(Sr),Dt=vr(8),Tt=wr("web-session"),Rr=()=>{if(!dn)return"";const e=localStorage.getItem(Tt);return e||(localStorage.setItem(Tt,Dt),Dt)},Vr=()=>{const e=mr(),t=bn(),n=Cn();return _.useMemo(()=>{const r=Rr();return n?t?`owner_${t.id}`:r:e&&e.isSignedIn?e.user.id.toLowerCase():r},[t,n,e])},kr=()=>xe(fn),Cr=e=>xe(ln(It,_.useCallback(t=>e(t),[]))),Wr=()=>Cr(_.useCallback(e=>br(e),[])),br=e=>(e.sm||e.md||!e.sm)&&!e.lg,Ur=()=>_e.get(It);export{Nr as C,Cn as a,Wr as b,Lr as c,ve as d,mr as e,Ir as f,Ur as g,Fr as h,xr as i,at as j,qt as k,Vr as l,kr as m,wr as n,Rn as p,zr as r,Tr as s,Cr as u};
